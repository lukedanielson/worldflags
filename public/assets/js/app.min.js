!function(n,o,t){"use strict";function e(){var o=n({});n.each({trigger:"publish",on:"subscribe",one:"subscribeOnce",off:"unsubscribe"},function(t,e){n[e]=function(){o[t].apply(o,arguments)}})}function u(o){n.publish("fotw.form.submitted",o)}function i(o){{var t="http://worldflags.dev/api/v1/countryMarkup";n.getJSON(t,o,function(){}).done(function(){}).fail(function(){}).always(function(o){n.publish("fotw.form.api.results",o)})}}function r(o){var t=n("#fotw-results-main"),e=t.find(".items-wrap");if(o&&o.status){var u=o.data.markup||"<p>the markup</p>";t.find(".no-items-wrap").remove(),e.remove(),t.prepend(u)}else console.log("there was an error")}e(),n(t).foundation(),n(t).ready(function(){console.log("document.ready in app.js");var o=n("#fotw-search-form").find('input[name="s"]'),t=null,e=null;o.on("keyup",function(){var n=encodeURIComponent(this.value)||"";clearTimeout(t),t=setTimeout(function(){console.log(n),""!==n&&n!==e?u({q:n}):n!==e&&u({q:"_all"}),e=n},300)})}),n.subscribe("fotw.form.submitted",function(n,o){i(o)}),n.subscribe("fotw.form.api.results",function(n,o){r(o)})}(jQuery,window,document,void 0);